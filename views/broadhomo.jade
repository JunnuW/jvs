//
   Created by Juha on 3/8/2016.
extends broaden
block levenee
    h3 Homogeneous broadening in qw diodes
    h4 Homogeneous and inhomogeneous broadening
    | Normally inhomogeneous and homogeneous broadening phenomena coexist in the spectra, but they can also be observed
    | separately in specific conditions.
    | A classic example, where homogeneous (lifetime) broadening takes over the inhomogeneous effects is the
    | impact pressure broadening of gases. At low pressures, the velocity distribution of atoms produces Doppler
    | shifts to the photons and the emission spectrum has Gaussian shape following the thermal velocity distribution
    | of emitting gas atoms. Since the emitters behave differently (follow a distribution), Doppler effect produces
    | inhomogeneous broadening.
    | However, when the pressure is increased the gas atoms collide more frequently with each other. Collisions interrupt
    | the photonic relaxation process in the emission (excitation process in optical absorption).
    | This sets on lifetime broadening effect. Increasing the pressure, first the spectral shape is a Voigt function,
    | a convolution between the original inhomogeneous Gaussian and the homogeneous, Lorentzian lifetime broadened spectrum.
    | At reasonably higher pressures the broadening becomes purely Lorentzian (homogeneous) in shape.
    h4 Spectral shape in homogeneous broadening
    | Homogeneous broadening arises from the relaxation (excitation) in a population of identical (homogeneous) emitters.
    br
    | Assuming \(N\) is the number of identically relaxing members in the population the relaxation rate can be
    | developed into a time function:
    | \begin{equation}
    | \label{HomogDiffe1}
    | -dN/dt=N\cdot(A+B\cdot t+C\cdot t^2...),
    | \end{equation}
    | Separating the variables we get:
    | \begin{equation}
    | \label{HomogDiffe2}
    | -dN/N=A\cdot dt +(B\cdot t+C\cdot t^2+...)\cdot dt,
    | \end{equation}
    | In this equation, terms inside the parenthetis are problematic, because a zero instance is required for the
    | time variable. The homogeneity assumption inturn means that all population members have identical relaxation
    | probabilities all the time, requiring all members start relaxing at the same time and have a memory property for
    |the elapsed time from the zero instance. In other words for memoryless relaxation processes (with
    -Markov_urli="https://en.wikipedia.org/wiki/Markov_property"
    a(href="#{Markov_urli}" target="_blank")    Markov Property
    |    ), we have \(B=C=D.....=0\). Assuming \(N=N_{0}\) at \(t=0\), we get after integration:
    | \begin{equation}
    | \label{HomogDiffe3}
    | ln(N)=-A\cdot t + ln(N_{0}),
    | \end{equation}
    | where \(ln(N_{0})\) is a constant of integration. Setting: \(A=1/\tau\) , results in:
    | \begin{equation}
    | \label{HomogDiffe4}
    | N(t)=N_{0}\cdot e^{-t/\tau},
    | \end{equation}
    | where \(\tau\) is called the relaxation time in the process. Often, more than one phenomenon exists behind the
    | relaxation. Without other relaxation mechanisms, the spontaneous emission rate (stimulated emission by zero
    | point energy fluctuations )
    | determines the relaxation time in the population. With several independent mechanisms the
    | resulting relaxation time is obtained as:
    | \begin{equation}
    | \label{HomogDiffe5}
    | 1/\tau_{r}= 1/\tau_{1}+1/\tau_{2}+.... ~,
    | \end{equation}
    | In the above impact pressure broadening example \(\tau_{1}\) would equal the spontaneous emission lifetime and
    | \(\tau_{2}\) the atomic collision lifetime.
    br
    | The spectral shape for homogeneous broadening is now obtained by
    -Fourier_urli="https://en.wikipedia.org/wiki/Fourier_transform"
    a(href="#{Fourier_urli}" target="_blank")    Fourier transforming
    |         the time decay in
    | Eq. (\ref{HomogDiffe4}) leading into
    -Lorentzian_urli="http://mathworld.wolfram.com/LorentzianFunction.html"
    a(href="#{Lorentzian_urli}" target="_blank")    Lorentzian function
    |    :
    | \begin{equation}
    | \label{HomogDiffe6}
    | I(\Delta E)=\frac{\tau_{r}/(\pi\hbar)}{1+\tau_{r}^{2}\Delta E^{2}/\hbar^{2}}~,
    | \end{equation}
    | where \(\Delta E\) is the photon energy deviation from the emission line center. This function integrates to
    | unity (\(\Delta E: -\infty \rightarrow +\infty\)) and if it originates from spontaneous emission, the line shape is known as
    -NB_urli="https://en.wikipedia.org/wiki/Spectral_line"
    a(href="#{NB_urli}" target="_blank")    natural broadening.
    h4 Does homogeneous broadening always produce Lorentzian line shapes?
    | The above derivation seems to suggest that homogeneously broadened lines should always have Lorentzian shapes.
    | However, at least one contradicting case is known to exist in the lifetime broadening of qw-LED's, where the physical
    | situation extensively resembles that of the impact pressure broadening, but in stead of plain gas atom
    | collisions, the emission process can be interrupted by two processes, either by the electron or the hole relaxation.
    | If the electron hole pair, before the emission, is examined as a single entity (a bound exciton),
    | one ends up summing the electron and hole relaxation times according to Eq. (\ref{HomogDiffe5}) and gets the spectrum
    | from Eq. (\ref{HomogDiffe6}) poorly fitting the observed quantum well diode spectra (below, overlaps less than one intensity
    | decade with best fitting \(\tau_{r}\)=65fs). The high density of charge carriers injected into the qw
    | through the diode currend and the high electric field in the pn-junction area effectively eliminate all exciton
    | related peaks. In optically excited photo luminescent spectra, pn-junction field can be eliminated and correspondingly
    | the PL-emission often shows more spectral details.

    center
      img(src="images/viuhka-1.png" alt="EL-viuhka" align="middle" style="width:404px;height:300px;")
      p Luminescence spectra in a semiconductor qw LD (horizontal scale in eV).
        br
        |  With a low current value (0.5mA), Urbach tail like spectrum is recorded (Eu=10.5meV, Eg=1.53eV).
        br
        | With larger currents lifetime broadening takes over and spreads the spectra more and more below the bandgap.
    | If we keep the 'before emission defined exciton entity' model and want to improve the spectral fitting, one
    | possibility is to abandon the Markov property in the electron and hole relaxations. However, fortunately, a
    | significantly simpler solution has been demonstrated. Keeping the simplest electron and hole relaxation model in
    | Eq. (\ref{HomogDiffe4}) we get Lorentzian broadenings for all energy states in the conduction and valence bands.
    | During the photon emission in the electron-hole pair recombination process it is possible examine two alternative
    | cases: If k-vector is not conserved in the process one ends up convolving the electron and hole Lorentzians into
    | a new and broader Lorentzian shape. This result is identical with the 'exciton entity model' obtained by summing the
    | electron and hole relaxation times using Eq. (\ref{HomogDiffe5}). However, the k-vector (impulse) of the emitted
    | photon is small. Therefore, it is generally assumed that k-vector is conserved in the recombination
    | (\(k_{e}=k_{h}\)). This couples the electron and hole energy broadenings together and the resulting spectrum is
    | instead of a convolution a product of two Lorentzian functions:
    | \begin{equation}
    | L_{t}(\Delta E)= \frac{(\tau_{be}+\tau_{bh})/(\pi\hbar)}{1+\tau_{be}^{2}\Delta E^{2}/\hbar^{2}}\times\frac{1}{1+\tau_{bh}^{2}\Delta E^{2}/\hbar^{2}}\label{DLorentz}~,
    | \end{equation}
    | Like Eq. (\ref{HomogDiffe6}) also this function integrates to unity. It can be expressed also as a difference of
    | two Lorentzians:
    | \begin{align}\nonumber
    | L_{t}(\Delta E)=\frac{1}{\pi\hbar\cdot(\tau_{bh}-\tau_{be})}
    | \times \Big(\frac{\tau_{bh}^{2}}{1+\tau_{bh}^{2}\Delta E^{2}/\hbar^{2}}-
    | \frac{\tau_{be}^{2}}{1+\tau_{be}^{2}\Delta E^{2}/\hbar^{2}}\Big)\label{DLorentz2}~,
    | \end{align}
    | where
    | \begin{equation}
    | \tau_{be}=\frac{\tau_{e}m_{h}}{m_{h}+m_{e}} \quad\textrm{and}\quad\tau_{bh}=\frac{\tau_{h}m_{e}}{m_{h}+m_{e}}
    | \label{Reducedtau}
    | \end{equation}
